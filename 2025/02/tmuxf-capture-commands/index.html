<!doctype html><html lang=en-us x-data :class=$store.darkMode.class() :data-theme=$store.darkMode.theme()><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Improving tmuxf: Enhancing tmux Workspace Save and Restore | AI Solve</title>
<link href=/favicon.ico rel=icon type=image/x-icon><link rel=canonical href=https://jiejue.ai/2025/02/tmuxf-capture-commands/><meta name=author content="Dong Hao"><meta name=description content="A few months ago, I wrote &ldquo;Easily Manage Your tmux Environment with Fish Shell&rdquo; for saving and restoring tmux workspaces. However, during actual use, I discovered some issues, mainly with command capture and restoration. For example, some long-running commands (like hugo server) couldn&rsquo;t be properly saved, and certain monitoring commands (like btm) were handled inconsistently. This article documents the technical challenges encountered during the improvement process and their solutions.
"><meta name=keywords content><meta name=generator content="Hugo 0.144.2"><meta property="og:url" content="https://jiejue.ai/2025/02/tmuxf-capture-commands/"><meta property="og:site_name" content="AI Solve"><meta property="og:title" content="Improving tmuxf: Enhancing tmux Workspace Save and Restore"><meta property="og:description" content="A few months ago, I wrote “Easily Manage Your tmux Environment with Fish Shell” for saving and restoring tmux workspaces. However, during actual use, I discovered some issues, mainly with command capture and restoration. For example, some long-running commands (like hugo server) couldn’t be properly saved, and certain monitoring commands (like btm) were handled inconsistently. This article documents the technical challenges encountered during the improvement process and their solutions."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-02-01T21:30:04+04:00"><meta property="article:modified_time" content="2025-02-21T10:56:16+05:30"><meta name=twitter:card content="summary"><meta name=twitter:title content="Improving tmuxf: Enhancing tmux Workspace Save and Restore"><meta name=twitter:description content="A few months ago, I wrote “Easily Manage Your tmux Environment with Fish Shell” for saving and restoring tmux workspaces. However, during actual use, I discovered some issues, mainly with command capture and restoration. For example, some long-running commands (like hugo server) couldn’t be properly saved, and certain monitoring commands (like btm) were handled inconsistently. This article documents the technical challenges encountered during the improvement process and their solutions."><link rel=stylesheet href=/css/output.min.css><style>pre{padding:1em;overflow:auto}</style><script defer src=https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js></script></head><body x-data="{
    flip: false,
  }"><div id=dream-global-bg></div><nav x-data="{ isSticky: false }" x-init="window.addEventListener('scroll', () => { isSticky = window.scrollY > 30 })" class="sticky top-0 z-30 mt-4 lg:mt-8 py-4" :class="{ 'bg-base-100 shadow-lg dark:border-b dark:border-base-content/30': isSticky }"><div class="container flex justify-between px-4"><section class="flex items-center gap-4"><div class="avatar cursor-pointer hover:online" @click="flip = !flip" title="Flip it!"><div class="h-10 rounded-full"><img src=/favicon.ico alt="AI Solve"></div></div><div><a href=https://jiejue.ai/ class="text-lg font-semibold cursor-pointer">AI Solve</a><div class="text-base-content/60 text-sm">Using AI to Serve People</div></div></section><div class="dropdown dropdown-end sm:hidden"><div tabindex=0 role=button class="btn btn-ghost btn-square" aria-label="Select an option"><ion-icon name=menu class=text-2xl></ion-icon></div><ul tabindex=0 class="dropdown-content menu w-36 bg-base-100 rounded-box z-[1] shadow-md"><li><a class="inline-flex items-center p-2 cursor-pointer" href=/index.xml title=RSS><ion-icon name=logo-rss></ion-icon>RSS</a></li><li><a class="inline-flex items-center p-2 cursor-pointer" href=/posts title=Archives><ion-icon name=archive></ion-icon>Archives</a></li><li><a class="inline-flex items-center p-2 cursor-pointer" href=/tags title="All Tags"><ion-icon name=pricetags></ion-icon>All Tags</a></li></ul></div><section class="hidden sm:flex sm:items-center sm:gap-2 md:gap-4"><a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href=/index.xml title=RSS><ion-icon class=group-hover:text-primary-content name=logo-rss></ion-icon></a><a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href=/posts title=Archives><ion-icon class=group-hover:text-primary-content name=archive></ion-icon></a><a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href=/tags title="All Tags"><ion-icon class=group-hover:text-primary-content name=pricetags></ion-icon></a></section></div></nav><div class=flip-container :class="{ 'flip-it': flip }"><div class=flipper><div class=front><div class=container><div class="lg:grid lg:grid-cols-4 gap-4 mt-4 px-4"><div class="hidden lg:block"></div><div class=lg:col-span-2><article class="mx-auto prose prose-quoteless dark:prose-invert" id=dream-single-post-main itemscope itemtype=http://schema.org/Article><meta itemprop=name content="Improving tmuxf: Enhancing tmux Workspace Save and Restore"><meta itemprop=description content="A few months ago, I wrote “Easily Manage Your tmux Environment with Fish Shell” for saving and restoring tmux workspaces. However, during actual use, I discovered some issues, mainly with command capture and restoration. For example, some long-running commands (like hugo server) couldn’t be properly saved, and certain monitoring commands (like btm) were handled inconsistently. This article documents the technical challenges encountered during the improvement process and their solutions."><meta itemprop=datePublished content="2025-02-01T21:30:04+04:00"><meta itemprop=dateModified content="2025-02-21T10:56:16+05:30"><meta itemprop=wordCount content="699"><header><h1 itemprop=headline>Improving tmuxf: Enhancing tmux Workspace Save and Restore</h1><p class=text-sm><span data-format=luxon>2025-02-01T21:30:04+04:00</span>
| <span>4 minute read</span>
| <span>Updated at
<span data-format=luxon>2025-02-21T10:56:16+05:30</span></span></p><div class="flex justify-between"><div class="flex items-center"><span>@</span>
<span itemprop=author itemscope itemtype=https://schema.org/Person><span itemprop=name>Dong Hao</span></span></div><div class="flex items-center gap-2"><a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="https://x.com/intent/post?text=Improving%20tmuxf:%20Enhancing%20tmux%20Workspace%20Save%20and%20Restore&amp;url=https://jiejue.ai/2025/02/tmuxf-capture-commands/" target=_blank rel="noopener noreferrer" title="Share on X"><ion-icon class=group-hover:text-primary-content name=logo-x></ion-icon></a><a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="https://facebook.com/sharer/sharer.php?u=https://jiejue.ai/2025/02/tmuxf-capture-commands/" target=_blank rel="noopener noreferrer" title="Share on Facebook"><ion-icon class=group-hover:text-primary-content name=logo-facebook></ion-icon></a><a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="https://wa.me/?text=Improving%20tmuxf:%20Enhancing%20tmux%20Workspace%20Save%20and%20Restore%20https://jiejue.ai/2025/02/tmuxf-capture-commands/" target=_blank rel="noopener noreferrer" title="Share on WhatsApp"><ion-icon class=group-hover:text-primary-content name=logo-whatsapp></ion-icon></a></div></div></header><section id=dream-single-post-content itemprop=articleBody><img src=https://jiejue.obs.ap-southeast-1.myhuaweicloud.com/20250201213744907.webp alt="Improving tmuxf: Enhancing tmux Workspace Save and Restore"><p>A few months ago, I wrote &ldquo;Easily Manage Your tmux Environment with Fish Shell&rdquo; for saving and restoring tmux workspaces. However, during actual use, I discovered some issues, mainly with command capture and restoration. For example, some long-running commands (like hugo server) couldn&rsquo;t be properly saved, and certain monitoring commands (like btm) were handled inconsistently. This article documents the technical challenges encountered during the improvement process and their solutions.</p><h2 id=problems-encountered>Problems Encountered</h2><h3 id=1-incomplete-command-capture>1. Incomplete Command Capture</h3><p>In the initial design, we used tmux&rsquo;s <code>#{pane_current_command}</code> format string to get the currently running command in a pane. However, this method had several issues:</p><ol><li>It could only capture the first part of the command (binary name), not the complete command line arguments</li><li>For commands running in the shell, it returned the shell name (like fish) rather than the actual command</li></ol><p>Example: For a command like <code>hugo server -D --bind 0.0.0.0 --baseURL ...</code>, only <code>hugo</code> was captured.</p><h3 id=2-special-process-handling>2. Special Process Handling</h3><p>Certain commands (like the system monitoring tool btm) completely replace the current shell process. These commands have special characteristics:</p><ol><li>They don&rsquo;t leave visible command text after the prompt</li><li>They appear directly as process names rather than complete commands</li><li>Initially, they were handled as direct arguments to tmux new-session, leading to inconsistent behavior</li></ol><h3 id=3-command-identification-and-matching>3. Command Identification and Matching</h3><p>We encountered several technical challenges when trying to capture commands:</p><ol><li>Pane index handling: tmux uses 0-based indexing while fish arrays are 1-based</li><li>Command string matching: need to handle spaces, special characters, and quotes in commands</li><li>Distinguishing one-time vs continuous commands: commands like <code>tmuxf save</code> shouldn&rsquo;t be saved</li></ol><h2 id=solutions>Solutions</h2><h3 id=1-complete-command-capture>1. Complete Command Capture</h3><p>We developed a more sophisticated command capture strategy:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fish data-lang=fish><span style=display:flex><span><span style=color:#75715e># Use capture-pane to get panel contents
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>set</span> <span style=color:#a6e22e>-l</span> cmd <span style=color:#f92672>(</span><span style=color:#a6e22e>tmux</span> capture-pane <span style=color:#a6e22e>-t</span> <span style=color:#e6db74>&#34;</span>$session<span style=color:#e6db74>:</span>$window<span style=color:#e6db74>.</span>$pane_idx<span style=color:#e6db74>&#34;</span> <span style=color:#a6e22e>-p</span> <span style=color:#a6e22e>-S</span> <span style=color:#a6e22e>- </span><span style=color:#f92672>|</span> <span style=color:#a6e22e>rg</span> <span style=color:#e6db74>&#39;^\$ &#39;</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>tail</span> -<span style=color:#ae81ff>1</span> <span style=color:#f92672>|</span> string replace <span style=color:#a6e22e>-r</span> <span style=color:#e6db74>&#39;^\$ &#39;</span> <span style=color:#e6db74>&#39;&#39;</span><span style=color:#f92672>)</span>
</span></span></code></pre></div><p>This method:</p><ol><li>Uses <code>capture-pane</code> to get the entire panel history</li><li>Matches command prompts with <code>rg '^\$ '</code></li><li>Gets the last command using <code>tail -1</code></li><li>Cleans up the command prompt part</li></ol><h3 id=2-improved-command-matching>2. Improved Command Matching</h3><p>To correctly identify and match commands, we used more precise regular expressions:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fish data-lang=fish><span style=display:flex><span><span style=color:#75715e># If the command starts with the current process name, use the complete command line
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>if</span> string match <span style=color:#a6e22e>-r</span> <span style=color:#e6db74>&#34;^</span>$current_cmd<span style=color:#e6db74>\s+.*&#34;</span> $cmd
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>set</span> cmd <span style=color:#f92672>(</span>string match <span style=color:#a6e22e>-r</span> <span style=color:#e6db74>&#34;^(</span>$current_cmd<span style=color:#e6db74>\s+.*)</span>$&#34;<span style=color:#e6db74> </span>$cmd<span style=color:#e6db74>)[1]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>else if string match -r &#34;</span>.*<span style=color:#f92672>(</span><span style=color:#ae81ff>\s</span><span style=color:#f92672>|^)</span>$current_cmd<span style=color:#f92672>(</span><span style=color:#ae81ff>\s</span><span style=color:#f92672>|</span><span style=color:#ae81ff>\$</span><span style=color:#f92672>)</span>.*<span style=color:#e6db74>&#34; </span>$cmd<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    set cmd (string match -r &#34;</span>.*?<span style=color:#f92672>(</span><span style=color:#ae81ff>\s</span><span style=color:#f92672>|^)(</span>$current_cmd<span style=color:#ae81ff>\s</span>+<span style=color:#f92672>[^</span><span style=color:#ae81ff>\$</span><span style=color:#f92672>]</span>*<span style=color:#f92672>)</span>$&#34; $cmd<span style=color:#f92672>)[</span><span style=color:#ae81ff>2</span><span style=color:#f92672>]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div><p>This matching logic:</p><ol><li>Prioritizes matching complete commands that start with the process name</li><li>If not, tries to locate the process name in the command and extract the relevant part</li><li>Handles special characters and quotes in commands</li></ol><h3 id=3-unified-command-execution-method>3. Unified Command Execution Method</h3><p>To maintain consistency, we unified the command execution approach:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fish data-lang=fish><span style=display:flex><span><span style=color:#75715e># Only specify path when creating session/window
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#34;tmux new-session -d -s &#39;</span>$name<span style=color:#e6db74>&#39; -c &#39;</span>$first_path<span style=color:#e6db74>&#39;&#34;</span> <span style=color:#f92672>&gt;&gt;</span> $config_file
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Execute commands via send-keys
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>if</span> <span style=color:#66d9ef>test</span> <span style=color:#a6e22e>-n</span> <span style=color:#e6db74>&#34;</span>$first_cmd<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#34;tmux send-keys -t &#39;</span>$name<span style=color:#e6db74>:0.0&#39; &#39;</span>$first_cmd<span style=color:#e6db74>&#39; C-m&#34;</span> <span style=color:#f92672>&gt;&gt;</span> $config_file
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div><p>These improvements ensure:</p><ol><li>All commands execute in the shell environment</li><li>Special commands and regular commands use the same handling method</li><li>Command execution environment more closely matches manual operation</li></ol><h3 id=4-debug-support>4. Debug Support</h3><p>During development, we added detailed debug output:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fish data-lang=fish><span style=display:flex><span><span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#34;Debug: pane_commands=</span>$pane_commands<span style=color:#e6db74>, pane_idx=</span>$pane_idx<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>&gt;&amp;</span><span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#34;Debug: current_cmd=</span>$current_cmd<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>&gt;&amp;</span><span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#34;Debug: original cmd=</span>$cmd<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>&gt;&amp;</span><span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#34;Debug: cleaned cmd=</span>$cmd<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>&gt;&amp;</span><span style=color:#ae81ff>2</span>
</span></span></code></pre></div><p>These outputs help us:</p><ol><li>Track the command capture process</li><li>Diagnose matching issues</li><li>Verify command cleanup effects</li></ol><h2 id=technical-points-summary>Technical Points Summary</h2><p>This improvement involved several shell programming technical points:</p><ol><li><p><strong>tmux Session Management</strong></p><ul><li>Using <code>capture-pane</code> to get panel contents</li><li>Handling tmux&rsquo;s indexing system (0-based)</li><li>Correctly handling command execution environment</li></ul></li><li><p><strong>fish shell Features</strong></p><ul><li>Array index (1-based) handling</li><li>String operations and replacement</li><li>Regular expression matching</li></ul></li><li><p><strong>Process Management</strong></p><ul><li>Distinguishing between continuous and one-time commands</li><li>Handling special processes (like btm)</li><li>Maintaining execution environment consistency</li></ul></li><li><p><strong>String Processing</strong></p><ul><li>Command line argument parsing</li><li>Special character escaping</li><li>Regular expression optimization</li></ul></li></ol><h2 id=future-improvement-directions>Future Improvement Directions</h2><ol><li><p><strong>Configuration Support</strong></p><ul><li>Allow users to customize special command lists</li><li>Support custom command capture rules</li></ul></li><li><p><strong>Robustness Enhancement</strong></p><ul><li>Add more error handling</li><li>Improve command validation mechanism</li></ul></li><li><p><strong>Feature Extension</strong></p><ul><li>Support more complex window layout saving</li><li>Add workspace template functionality</li></ul></li></ol><p>This improvement not only solved practical usage issues but also deepened our understanding of tmux and fish shell. We hope these improvements will help other developers using tmux, making workspace management more convenient and reliable.</p></section><div class=divider></div><div class="flex flex-col md:flex-row justify-between gap-4 py-4"><a class="group btn btn-outline" href=/2025/02/blog-migration-time-processing/ title="Time Processing in Blog Migration: From Git History to Metadata"><ion-icon name=chevron-back></ion-icon><div class="inline-flex flex-col items-start"><span class="text-base-content/60 group-hover:text-neutral-content/60 text-xs font-normal">Previous page</span>
<span class="max-w-48 truncate">Time Processing in Blog Migration: From Git History to Metadata</span></div></a><a class="group btn btn-outline" href=/2025/02/hugo-show-all-posts-in-homepage/ title="How to Display All Posts on the Homepage of Your Hugo Theme"><div class="inline-flex flex-col items-end"><span class="text-base-content/60 group-hover:text-neutral-content/60 text-xs font-normal">Next page</span>
<span class="max-w-48 truncate">How to Display All Posts on the Homepage of Your Hugo Theme</span></div><ion-icon name=chevron-forward></ion-icon></a></div></article></div><div class="hidden lg:flex lg:flex-col lg:items-end"><nav id=TableOfContents><ul><li><a href=#problems-encountered>Problems Encountered</a><ul><li><a href=#1-incomplete-command-capture>1. Incomplete Command Capture</a></li><li><a href=#2-special-process-handling>2. Special Process Handling</a></li><li><a href=#3-command-identification-and-matching>3. Command Identification and Matching</a></li></ul></li><li><a href=#solutions>Solutions</a><ul><li><a href=#1-complete-command-capture>1. Complete Command Capture</a></li><li><a href=#2-improved-command-matching>2. Improved Command Matching</a></li><li><a href=#3-unified-command-execution-method>3. Unified Command Execution Method</a></li><li><a href=#4-debug-support>4. Debug Support</a></li></ul></li><li><a href=#technical-points-summary>Technical Points Summary</a></li><li><a href=#future-improvement-directions>Future Improvement Directions</a></li></ul></nav></div></div><footer class="flex justify-between items-center gap-2 px-4 py-12"><div><p>© 2025 AI Solve</p><p>Silicon-based Life Kindergarten</p></div><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><section><span id=busuanzi_container_value_site_pv><i class="far fa-eye fa-fw"></i>
Site Total Visits <span id=busuanzi_value_site_pv></span>
</span>&nbsp;|&nbsp;
<span id=busuanzi_container_value_site_uv><i class="fa fa-user"></i>
Site Visitor Count <span id=busuanzi_value_site_uv></span></span></section></span></section></script><div x-data="{ icons: [
    { name: 'moon', status: 'y' },
    { name: 'sunny', status: 'n' },
    { name: 'desktop', status: 'auto' }
  ] }" class="flex items-center gap-2 h-[32px] px-2 bg-base-100 border border-base-content/30 rounded-full"><template x-for="icon in icons"><div role=button tabindex=0 :aria-label="'Select ' + icon.name + ' mode'" class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary" :class="$store.darkMode.icon() === icon.name && 'bg-primary'" @click=$store.darkMode.toggle(icon.status)><ion-icon :name="`${icon.name}-outline`" class=group-hover:text-primary-content :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"></ion-icon></div></template></div></footer></div></div><div class=back><div class=container><div class="dream-grid dream-grid-about"></div><footer class="flex justify-between items-center gap-2 px-4 py-12"><div><p>© 2025 AI Solve</p><p>Silicon-based Life Kindergarten</p></div><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><section><span id=busuanzi_container_value_site_pv><i class="far fa-eye fa-fw"></i>
Site Total Visits <span id=busuanzi_value_site_pv></span>
</span>&nbsp;|&nbsp;
<span id=busuanzi_container_value_site_uv><i class="fa fa-user"></i>
Site Visitor Count <span id=busuanzi_value_site_uv></span></span></section></span></section></script><div x-data="{ icons: [
    { name: 'moon', status: 'y' },
    { name: 'sunny', status: 'n' },
    { name: 'desktop', status: 'auto' }
  ] }" class="flex items-center gap-2 h-[32px] px-2 bg-base-100 border border-base-content/30 rounded-full"><template x-for="icon in icons"><div role=button tabindex=0 :aria-label="'Select ' + icon.name + ' mode'" class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary" :class="$store.darkMode.icon() === icon.name && 'bg-primary'" @click=$store.darkMode.toggle(icon.status)><ion-icon :name="`${icon.name}-outline`" class=group-hover:text-primary-content :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"></ion-icon></div></template></div></footer></div></div></div></div><script>window.lightTheme="emerald",window.darkTheme="forest"</script><script src=https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin=anonymous></script><script src=/js/grid.min.js></script><script src=/js/main.min.js></script><script src=https://cdn.jsdelivr.net/npm/luxon@1.26.0 integrity="sha256-4sbTzmCCW9LGrIh5OsN8V5Pfdad1F1MwhLAOyXKnsE0=" crossorigin=anonymous></script><script>format();function format(){document.querySelectorAll('span[data-format="luxon"]').forEach(e=>{const t=e.textContent;e.textContent=luxon.DateTime.fromISO(t,{locale:"en"}).toFormat("yyyy-MM-dd HH:mm")})}</script><script type=module>
      import mediumZoom from 'https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/+esm';
      mediumZoom('#dream-single-post-content img')
    </script><script async src="https://www.googletagmanager.com/gtag/js?id=G-S0KCH9BW4F"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-S0KCH9BW4F")}</script><script type=module src=https://unpkg.com/ionicons@7.4.0/dist/ionicons/ionicons.esm.js></script><script nomodule src=https://unpkg.com/ionicons@7.4.0/dist/ionicons/ionicons.js></script></body></html>